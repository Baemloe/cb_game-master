{"ast":null,"code":"import React from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";class UpPanel extends React.Component{constructor(props){super(props);this.state={display:\"None\",points:0,pointsBuff:0,pointsUpdate:this.updatePoints.bind(this),update:this.updateVisibility.bind(this),inside:{text:\"\",time:0},set:this.setHint.bind(this),auto_click:this.autoClick.bind(this)};this.but=/*#__PURE__*/React.createRef();}render(){return/*#__PURE__*/_jsxs(\"div\",{style:{gridArea:\"points\",justifyContent:\"space-between\"},className:this.state.display,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Набрано очков: \",this.state.points]}),/*#__PURE__*/_jsx(\"button\",{style:{width:\"6vh\",height:\"6vh\",maxWidth:\"50px\",maxHeight:\"50px\",borderRadius:\"50%\"},ref:this.but,onClick:this.getInfo.bind(this),children:\"?\"})]});}updateVisibility(className){this.setState({display:className});}setHint(text){let alarm=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let time=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let closable=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;this.setState(prevState=>({oldInside:alarm?prevState.inside:prevState.oldInside,inside:{text:text,time:time},alarm:alarm,closable:closable}));if(!closable){return;}}componentDidUpdate(props,state){if(this.state.alarm){this.setState({alarm:false});this.but.current.click();this.setState({inside:this.state.oldInside});}}getInfo(){this.props.showPopup(this.state.inside.text,this.state.inside.time);}autoClick(){this.but.current.click();}updatePoints(pts){this.setState({pointsBuff:this.state.points+pts});let interval=setInterval(()=>{if(this.state.points<this.state.pointsBuff){this.setState({points:this.state.points+1});}else{clearInterval(interval);}},50);}}export default UpPanel;","map":{"version":3,"names":["React","jsxs","_jsxs","jsx","_jsx","UpPanel","Component","constructor","props","state","display","points","pointsBuff","pointsUpdate","updatePoints","bind","update","updateVisibility","inside","text","time","set","setHint","auto_click","autoClick","but","createRef","render","style","gridArea","justifyContent","className","children","width","height","maxWidth","maxHeight","borderRadius","ref","onClick","getInfo","setState","alarm","arguments","length","undefined","closable","prevState","oldInside","componentDidUpdate","current","click","showPopup","pts","interval","setInterval","clearInterval"],"sources":["/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/UpPanel.js"],"sourcesContent":["import React from \"react\";\nclass UpPanel extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            display: \"None\",\n            points: 0,\n            pointsBuff: 0,\n            pointsUpdate: this.updatePoints.bind(this),\n            update: this.updateVisibility.bind(this),\n            inside: {text: \"\", time: 0},\n            set: this.setHint.bind(this),\n            auto_click: this.autoClick.bind(this),\n        }\n        this.but = React.createRef();\n    }\n\n    render()\n    {\n        return(\n            <div style={{gridArea: \"points\", justifyContent: \"space-between\"}}  className={this.state.display}>\n                <p>{\"Набрано очков: \"}{this.state.points}</p>\n                <button style={{width: \"6vh\", height: \"6vh\", maxWidth: \"50px\", maxHeight: \"50px\", borderRadius: \"50%\"}} ref={this.but}\n                onClick={this.getInfo.bind(this)}>?</button>\n            </div>)\n    }\n    updateVisibility(className)\n    {\n        this.setState({display: className});\n    }\n    setHint(text, alarm = false, time = 0, closable = true) {\n        this.setState(prevState => ({\n            oldInside: alarm ? prevState.inside : prevState.oldInside,\n            inside: {text: text, time: time},\n            alarm: alarm,\n            closable: closable\n        }));\n\n        if (!closable) {\n            return;\n        }\n    }\n\n    componentDidUpdate(props, state)\n    {\n    if (this.state.alarm) {\n        this.setState({ alarm: false });\n        this.but.current.click();\n        this.setState({ inside: this.state.oldInside });\n        }\n    }\n    getInfo()\n    {\n        this.props.showPopup(this.state.inside.text, this.state.inside.time);\n    }\n    autoClick()\n    {\n        this.but.current.click();\n    }\n    updatePoints(pts)\n    {\n        this.setState({pointsBuff: this.state.points + pts});\n        let interval = setInterval(()=>{\n            if(this.state.points < this.state.pointsBuff)\n            {\n                this.setState({points: this.state.points + 1});\n            }\n            else\n            {\n                clearInterval(interval);\n            }\n        }, 50);\n    }\n}\nexport default UpPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}