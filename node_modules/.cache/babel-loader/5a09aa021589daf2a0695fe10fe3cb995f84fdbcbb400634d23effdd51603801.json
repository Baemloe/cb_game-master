{"ast":null,"code":"var _jsxFileName = \"/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/Table.js\";\nimport React from \"react\";\nimport TextUnits from \"./TextUnits\";\nimport List from \"./List\";\nimport Input from \"./Input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ListTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.listsArray = new Map();\n    this.createList = this.getList.bind(this);\n    this.state = {\n      lArr: []\n    };\n  }\n  componentDidMount() {\n    this.props.start.up.current.state.set( /*#__PURE__*/_jsxDEV(TextUnits, {\n      textValue: this.props.data.taskText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 47\n    }, this));\n    this.props.start.control.current.state.mount([{\n      click: this.check.bind(this),\n      text: \"Проверить\"\n    }]);\n  }\n  render() {\n    // Задаем стиль для таблицы\n    const tableStyle = {\n      maxWidth: \"800px\",\n      // Максимальная ширина таблицы\n      margin: \"0 auto\",\n      // Автоматические отступы для центрирования\n      background: \"white\" // Фон для таблицы, если нужно\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"TableContainer\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"TableWithGradient\",\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.props.data.table.map((row, index) => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: row.map((cell, index_2) => {\n                return /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: cell.includes(\"check\") ? this.createList(cell, index + \"_\" + index_2) : cell\n                }, index + \"_\" + index_2, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 39,\n                  columnNumber: 31\n                }, this);\n              })\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 25\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 15\n    }, this);\n  }\n  getList(cell, key) {\n    let cellName = cell.split(\"_\");\n    let buff = /*#__PURE__*/React.createRef();\n    let jsx;\n    switch (cellName[1]) {\n      case \"list\":\n        jsx = /*#__PURE__*/_jsxDEV(List, {\n          index: cellName[2],\n          listArr: this.props.data.list,\n          ref: buff\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 23\n        }, this);\n        break;\n      case \"input\":\n        jsx = /*#__PURE__*/_jsxDEV(Input, {\n          index: cellName[2],\n          listArr: this.props.data.list,\n          ref: buff\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 23\n        }, this);\n        break;\n    }\n    if (!this.listsArray.has(key)) {\n      this.listsArray.set(key, buff);\n    }\n    return jsx;\n  }\n  check() {\n    let mistakes = 0;\n    let points = this.props.data.points || 0; // Получаем максимальные баллы из данных\n    const deduction = this.props.data.deduction || 2; // Штраф за ошибку из данных\n    let message = {\n      text_1: []\n    };\n\n    // Проходим по каждому элементу списка и проверяем ответы\n    for (let [key, buff] of this.listsArray) {\n      if (buff.current.state.result == null) {\n        message.text_1.push(\"Введи все ответы!\");\n        this.props.start.up.current.state.set( /*#__PURE__*/_jsxDEV(TextUnits, {\n          textValue: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 55\n        }, this), true, 2000);\n        return; // Прекращаем выполнение, если есть незаполненные ответы\n      } else if (buff.current.state.result == 0) {\n        mistakes++;\n      }\n    }\n\n    // Если две или более ошибки, баллы устанавливаются в 0\n    if (mistakes >= 2) {\n      points = 0;\n    } else {\n      // Начисляем баллы на основе количества ошибок\n      points = Math.max(points - mistakes * deduction, 0);\n    }\n    message.text_1.push(`Ты набрал ${points} очков!`);\n    // Обновляем состояние и показываем результат\n    this.props.start.up.current.state.pointsUpdate(points);\n    this.props.start.up.current.state.set( /*#__PURE__*/_jsxDEV(TextUnits, {\n      textValue: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 47\n    }, this), true, 2000);\n    this.props.start.control.current.state.mount([{\n      click: this.props.start.next,\n      text: \"Дальше\"\n    }]);\n  }\n}\nexport default ListTable;","map":{"version":3,"names":["React","TextUnits","List","Input","jsxDEV","_jsxDEV","ListTable","Component","constructor","props","listsArray","Map","createList","getList","bind","state","lArr","componentDidMount","start","up","current","set","textValue","data","taskText","fileName","_jsxFileName","lineNumber","columnNumber","control","mount","click","check","text","render","tableStyle","maxWidth","margin","background","className","style","display","justifyContent","alignItems","children","table","map","row","index","cell","index_2","includes","key","cellName","split","buff","createRef","jsx","listArr","list","ref","has","mistakes","points","deduction","message","text_1","result","push","Math","max","pointsUpdate","next"],"sources":["/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/Table.js"],"sourcesContent":["import React from \"react\";\nimport TextUnits from \"./TextUnits\";\nimport List from \"./List\";\nimport Input from \"./Input\";\nclass ListTable extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.listsArray = new Map();\n        this.createList = this.getList.bind(this);\n        this.state = \n        {\n            lArr: []\n        }\n    }\n    componentDidMount()\n    {\n        this.props.start.up.current.state.set(<TextUnits textValue={this.props.data.taskText}/>);\n        this.props.start.control.current.state.mount([{click: this.check.bind(this), text: \"Проверить\"}]);\n    }\n    render() {\n        // Задаем стиль для таблицы\n        const tableStyle = {\n          maxWidth: \"800px\", // Максимальная ширина таблицы\n          margin: \"0 auto\", // Автоматические отступы для центрирования\n          background: \"white\", // Фон для таблицы, если нужно\n        };\n\n            return (\n              <div className=\"TableContainer\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                <table className=\"TableWithGradient\">\n                  <tbody>\n                    {this.props.data.table.map((row, index) => {\n                      return (\n                        <tr key={index}>\n                          {row.map((cell, index_2) => {\n                            return (\n                              <td key={index + \"_\" + index_2}>\n                                {cell.includes(\"check\")\n                                  ? this.createList(cell, index + \"_\" + index_2)\n                                  : cell}\n                              </td>\n                            );\n                          })}\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              </div>\n            );\n          }\n\n    getList(cell, key)\n    {\n        \n        let cellName = cell.split(\"_\");      \n        let buff = React.createRef();\n        let jsx;\n        switch(cellName[1])\n        {\n            case \"list\":\n                jsx = <List index={cellName[2]} listArr={this.props.data.list} ref={buff}/>\n                break;\n            case \"input\":\n                jsx = <Input index ={cellName[2]} listArr={this.props.data.list} ref={buff}/>;\n                break;\n        }  \n        if(!this.listsArray.has(key))\n        {\n            this.listsArray.set(key, buff);\n        }\n        return jsx;\n    }\n    check() {\n        let mistakes = 0;\n        let points = this.props.data.points || 0; // Получаем максимальные баллы из данных\n        const deduction = this.props.data.deduction || 2; // Штраф за ошибку из данных\n        let message = { text_1: [] };\n\n        // Проходим по каждому элементу списка и проверяем ответы\n        for (let [key, buff] of this.listsArray) {\n            if (buff.current.state.result == null) {\n                message.text_1.push(\"Введи все ответы!\");\n                this.props.start.up.current.state.set(<TextUnits textValue={message} />, true, 2000);\n                return; // Прекращаем выполнение, если есть незаполненные ответы\n            } else if (buff.current.state.result == 0) {\n                mistakes++;\n            }\n        }\n\n        // Если две или более ошибки, баллы устанавливаются в 0\n        if (mistakes >= 2) {\n            points = 0;\n        } else {\n            // Начисляем баллы на основе количества ошибок\n            points = Math.max(points - mistakes * deduction, 0);\n        }\n\n        message.text_1.push(`Ты набрал ${points} очков!`);\n        // Обновляем состояние и показываем результат\n        this.props.start.up.current.state.pointsUpdate(points);\n        this.props.start.up.current.state.set(<TextUnits textValue={message} />, true, 2000);\n        this.props.start.control.current.state.mount([{ click: this.props.start.next, text: \"Дальше\" }]);\n    }\n\n}\nexport default ListTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}