{"ast":null,"code":"var _jsxFileName = \"/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/Table.js\";\nimport React from \"react\";\nimport TextUnits from \"./TextUnits\";\nimport List from \"./List\";\nimport Input from \"./Input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ListTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.listsArray = new Map();\n    this.createList = this.getList.bind(this);\n    this.state = {\n      lArr: []\n    };\n  }\n  componentDidMount() {\n    this.props.start.up.current.state.set( /*#__PURE__*/_jsxDEV(TextUnits, {\n      textValue: this.props.data.taskText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 47\n    }, this));\n    this.props.start.control.current.state.mount([{\n      click: this.check.bind(this),\n      text: \"Проверить\"\n    }]);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"FullBlock\",\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: this.props.data.table.map((row, index) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: row.map((cell, index_2) => {\n              return /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  background: \"white\",\n                  color: \"var(--textColor)\",\n                  padding: \"1vh\"\n                },\n                children: cell.includes(\"check\") ? this.createList(cell, index + \"_\" + index_2) : cell\n              }, index + \"_\" + index_2, false, {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 29\n              }, this);\n            })\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 24\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 45\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 16\n    }, this);\n  }\n  getList(cell, key) {\n    let cellName = cell.split(\"_\");\n    let buff = /*#__PURE__*/React.createRef();\n    let jsx;\n    switch (cellName[1]) {\n      case \"list\":\n        jsx = /*#__PURE__*/_jsxDEV(List, {\n          index: cellName[2],\n          listArr: this.props.data.list,\n          ref: buff\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 23\n        }, this);\n        break;\n      case \"input\":\n        jsx = /*#__PURE__*/_jsxDEV(Input, {\n          index: cellName[2],\n          listArr: this.props.data.list,\n          ref: buff\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 23\n        }, this);\n        break;\n    }\n    if (!this.listsArray.has(key)) {\n      this.listsArray.set(key, buff);\n    }\n    return jsx;\n  }\n  check() {\n    let message = {\n      text_1: []\n    };\n    let mistakes = 0;\n    let points = true;\n    for (let oneList of this.listsArray.keys()) {\n      if (this.listsArray.get(oneList).current.state.result == null) {\n        message.text_1.push(\"Выбери все ответы!\");\n        this.props.start.up.current.state.set( /*#__PURE__*/_jsxDEV(TextUnits, {\n          textValue: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 55\n        }, this), true, 2000);\n        points = false;\n        break;\n      } else if (this.listsArray.get(oneList).current.state.result == 0) {\n        mistakes = mistakes + 1;\n      }\n    }\n    if (points) {\n      if (mistakes == 0) {\n        points = 5;\n      } else if (mistakes == 1) {\n        points = 4;\n      } else {\n        points = 0;\n      }\n      message.text_1.push(`Ты набрал ${points} очков!`);\n      this.props.start.up.current.state.set( /*#__PURE__*/_jsxDEV(TextUnits, {\n        textValue: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 51\n      }, this), true, 2000);\n      this.listsArray.forEach((value, key, map) => {\n        value.current.state.end();\n      });\n      this.props.start.up.current.state.pointsUpdate(points);\n      this.props.start.control.current.state.mount([{\n        click: this.props.start.next,\n        text: \"Дальше\"\n      }]);\n    }\n  }\n}\nexport default ListTable;","map":{"version":3,"names":["React","TextUnits","List","Input","jsxDEV","_jsxDEV","ListTable","Component","constructor","props","listsArray","Map","createList","getList","bind","state","lArr","componentDidMount","start","up","current","set","textValue","data","taskText","fileName","_jsxFileName","lineNumber","columnNumber","control","mount","click","check","text","render","className","children","table","map","row","index","cell","index_2","style","background","color","padding","includes","key","cellName","split","buff","createRef","jsx","listArr","list","ref","has","message","text_1","mistakes","points","oneList","keys","get","result","push","forEach","value","end","pointsUpdate","next"],"sources":["/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/Table.js"],"sourcesContent":["import React from \"react\";\nimport TextUnits from \"./TextUnits\";\nimport List from \"./List\";\nimport Input from \"./Input\";\nclass ListTable extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.listsArray = new Map();\n        this.createList = this.getList.bind(this);\n        this.state = \n        {\n            lArr: []\n        }\n    }\n    componentDidMount()\n    {\n        this.props.start.up.current.state.set(<TextUnits textValue={this.props.data.taskText}/>);\n        this.props.start.control.current.state.mount([{click: this.check.bind(this), text: \"Проверить\"}]);\n    }\n    render()\n    {\n        return <table className=\"FullBlock\"><tbody>\n            {this.props.data.table.map((row, index)=>{\n                return <tr key={index}>{row.map((cell, index_2)=>\n                    {return <td style={{background: \"white\", color: \"var(--textColor)\", padding: \"1vh\"}} key={index + \"_\" + index_2}>\n                        {cell.includes(\"check\")? this.createList(cell, index + \"_\" + index_2): cell}\n                    </td>})}\n                </tr>})}\n            </tbody></table>\n    }\n    getList(cell, key)\n    {\n        \n        let cellName = cell.split(\"_\");      \n        let buff = React.createRef();\n        let jsx;\n        switch(cellName[1])\n        {\n            case \"list\":\n                jsx = <List index={cellName[2]} listArr={this.props.data.list} ref={buff}/>\n                break;\n            case \"input\":\n                jsx = <Input index ={cellName[2]} listArr={this.props.data.list} ref={buff}/>;\n                break;\n        }  \n        if(!this.listsArray.has(key))\n        {\n            this.listsArray.set(key, buff);\n        }\n        return jsx;\n    }\n    check()\n    {\n        let message = {text_1: []}\n        let mistakes = 0;\n        let points = true;\n        for(let oneList of this.listsArray.keys())\n        {\n\n            if(this.listsArray.get(oneList).current.state.result == null)\n            {\n                message.text_1.push(\"Выбери все ответы!\");\n                this.props.start.up.current.state.set(<TextUnits textValue={message}/>, true, 2000);\n                points = false;\n                break;\n            }\n            else if(this.listsArray.get(oneList).current.state.result == 0)\n            {\n                mistakes = mistakes + 1;\n            }\n        }\n        if(points)\n        {\n            if(mistakes == 0)\n            {\n                points = 5;\n            }\n            else if(mistakes == 1)\n            {\n                points = 4;\n            }\n            else\n            {\n                points = 0;\n            }\n            message.text_1.push(`Ты набрал ${points} очков!`);\n            this.props.start.up.current.state.set(<TextUnits textValue={message}/>, true, 2000);\n            this.listsArray.forEach((value, key, map)=>{\n                value.current.state.end();\n            });\n            this.props.start.up.current.state.pointsUpdate(points);\n            this.props.start.control.current.state.mount([{click: this.props.start.next, text: \"Дальше\"}]);\n        }\n    }\n}\nexport default ListTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}