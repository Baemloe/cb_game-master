{"ast":null,"code":"var _jsxFileName = \"/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/UpPanel.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass UpPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: \"None\",\n      points: 0,\n      pointsBuff: 0,\n      pointsUpdate: this.updatePoints.bind(this),\n      update: this.updateVisibility.bind(this),\n      inside: {\n        text: \"\",\n        time: 0\n      },\n      set: this.setHint.bind(this),\n      auto_click: this.autoClick.bind(this)\n    };\n    this.but = /*#__PURE__*/React.createRef();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        gridArea: \"points\",\n        justifyContent: \"space-between\"\n      },\n      className: this.state.display,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Набрано очков: \", this.state.points]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          width: \"6vh\",\n          height: \"6vh\",\n          maxWidth: \"50px\",\n          maxHeight: \"50px\",\n          borderRadius: \"50%\"\n        },\n        ref: this.but,\n        onClick: this.getInfo.bind(this),\n        children: \"?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }, this);\n  }\n  updateVisibility(className) {\n    this.setState({\n      display: className\n    });\n  }\n  setHint(text, alarm = false, time = 0, closable = true) {\n    if (alarm) this.setState({\n      oldInside: this.state.inside\n    });\n    this.setState({\n      inside: {\n        text: text,\n        time: time\n      },\n      alarm: alarm,\n      closable: closable\n    });\n    if (!closable) {\n      // Если попап не должен закрываться, не устанавливаем таймер.\n      return;\n    }\n    componentDidUpdate(props, state);\n    {\n      if (this.state.alarm) {\n        this.setState({\n          alarm: false\n        });\n        this.but.current.click();\n        this.setState({\n          inside: this.state.oldInside\n        });\n      }\n    }\n  }\n  getInfo() {\n    this.props.showPopup(this.state.inside.text, this.state.inside.time);\n  }\n  autoClick() {\n    this.but.current.click();\n  }\n  updatePoints(pts) {\n    this.setState({\n      pointsBuff: this.state.points + pts\n    });\n    let interval = setInterval(() => {\n      if (this.state.points < this.state.pointsBuff) {\n        this.setState({\n          points: this.state.points + 1\n        });\n      } else {\n        clearInterval(interval);\n      }\n    }, 50);\n  }\n}\nexport default UpPanel;","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","UpPanel","Component","constructor","props","state","display","points","pointsBuff","pointsUpdate","updatePoints","bind","update","updateVisibility","inside","text","time","set","setHint","auto_click","autoClick","but","createRef","render","style","gridArea","justifyContent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","width","height","maxWidth","maxHeight","borderRadius","ref","onClick","getInfo","setState","alarm","closable","oldInside","componentDidUpdate","current","click","showPopup","pts","interval","setInterval","clearInterval"],"sources":["/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/UpPanel.js"],"sourcesContent":["import React from \"react\";\nclass UpPanel extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            display: \"None\",\n            points: 0,\n            pointsBuff: 0,\n            pointsUpdate: this.updatePoints.bind(this),\n            update: this.updateVisibility.bind(this),\n            inside: {text: \"\", time: 0},\n            set: this.setHint.bind(this),\n            auto_click: this.autoClick.bind(this),\n        }\n        this.but = React.createRef();\n    }\n    render()\n    {\n        return(\n            <div style={{gridArea: \"points\", justifyContent: \"space-between\"}}  className={this.state.display}>\n                <p>{\"Набрано очков: \"}{this.state.points}</p>\n                <button style={{width: \"6vh\", height: \"6vh\", maxWidth: \"50px\", maxHeight: \"50px\", borderRadius: \"50%\"}} ref={this.but}\n                onClick={this.getInfo.bind(this)}>?</button>\n            </div>)\n    }\n    updateVisibility(className)\n    {\n        this.setState({display: className});\n    }\n    setHint(text, alarm = false, time = 0, closable = true) {\n        if(alarm) this.setState({oldInside: this.state.inside});\n        this.setState({inside: {text: text, time: time}, alarm: alarm, closable: closable});\n        if (!closable) {\n            // Если попап не должен закрываться, не устанавливаем таймер.\n            return;\n        }\n    componentDidUpdate(props, state)\n    {\n        if(this.state.alarm)\n        {\n            this.setState({alarm: false});\n            this.but.current.click();\n            this.setState({inside: this.state.oldInside});\n        }\n    }\n    }\n    getInfo()\n    {\n        this.props.showPopup(this.state.inside.text, this.state.inside.time);\n    }\n    autoClick()\n    {\n        this.but.current.click();\n    }\n    updatePoints(pts)\n    {\n        this.setState({pointsBuff: this.state.points + pts});\n        let interval = setInterval(()=>{\n            if(this.state.points < this.state.pointsBuff)\n            {\n                this.setState({points: this.state.points + 1});\n            }\n            else\n            {\n                clearInterval(interval);\n            }\n        }, 50);\n    }\n}\nexport default UpPanel"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}