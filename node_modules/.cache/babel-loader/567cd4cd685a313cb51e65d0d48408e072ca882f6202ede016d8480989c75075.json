{"ast":null,"code":"var _jsxFileName = \"/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/UpPanel.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass UpPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: \"None\",\n      points: 0,\n      pointsBuff: 0,\n      pointsUpdate: this.updatePoints.bind(this),\n      update: this.updateVisibility.bind(this),\n      inside: {\n        text: \"\",\n        time: 0\n      },\n      set: this.setHint.bind(this),\n      auto_click: this.autoClick.bind(this),\n      finalContent: null,\n      // Добавлено состояние для финального контента\n      finalHintVisible: false // Добавлено состояние для управления видимостью финального попапа\n    };\n    this.but = /*#__PURE__*/React.createRef();\n  }\n  setFinalHint(content) {\n    this.setState({\n      finalContent: content,\n      finalHintVisible: true\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        gridArea: \"points\",\n        justifyContent: \"space-between\"\n      },\n      className: this.state.display,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Набрано очков: \", this.state.points]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          width: \"6vh\",\n          height: \"6vh\",\n          maxWidth: \"50px\",\n          maxHeight: \"50px\",\n          borderRadius: \"50%\"\n        },\n        ref: this.but,\n        onClick: this.getInfo.bind(this),\n        children: \"?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }, this), this.state.finalHintVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"final-hint\",\n        children: this.state.finalContent\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }, this);\n  }\n  updateVisibility(className) {\n    this.setState({\n      display: className\n    });\n  }\n  setHint(text, alarm = false, time = 0, closable = false) {\n    if (alarm) this.setState({\n      oldInside: this.state.inside\n    });\n    this.setState({\n      inside: {\n        text: text,\n        time: time\n      },\n      alarm: alarm\n    });\n  }\n  componentDidUpdate(props, state) {\n    if (this.state.alarm) {\n      this.setState({\n        alarm: false\n      });\n      this.but.current.click();\n      this.setState({\n        inside: this.state.oldInside\n      });\n    }\n  }\n  getInfo() {\n    this.props.showPopup(this.state.inside.text, this.state.inside.time);\n  }\n  autoClick() {\n    this.but.current.click();\n  }\n  updatePoints(pts) {\n    this.setState({\n      pointsBuff: this.state.points + pts\n    });\n    let interval = setInterval(() => {\n      if (this.state.points < this.state.pointsBuff) {\n        this.setState({\n          points: this.state.points + 1\n        });\n      } else {\n        clearInterval(interval);\n      }\n    }, 50);\n  }\n}\nexport default UpPanel;","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","UpPanel","Component","constructor","props","state","display","points","pointsBuff","pointsUpdate","updatePoints","bind","update","updateVisibility","inside","text","time","set","setHint","auto_click","autoClick","finalContent","finalHintVisible","but","createRef","setFinalHint","content","setState","render","style","gridArea","justifyContent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","width","height","maxWidth","maxHeight","borderRadius","ref","onClick","getInfo","alarm","closable","oldInside","componentDidUpdate","current","click","showPopup","pts","interval","setInterval","clearInterval"],"sources":["/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/UpPanel.js"],"sourcesContent":["import React from \"react\";\nclass UpPanel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            display: \"None\",\n            points: 0,\n            pointsBuff: 0,\n            pointsUpdate: this.updatePoints.bind(this),\n            update: this.updateVisibility.bind(this),\n            inside: {text: \"\", time: 0},\n            set: this.setHint.bind(this),\n            auto_click: this.autoClick.bind(this),\n            finalContent: null, // Добавлено состояние для финального контента\n            finalHintVisible: false, // Добавлено состояние для управления видимостью финального попапа\n        };\n        this.but = React.createRef();\n    }\n    setFinalHint(content) {\n            this.setState({\n                finalContent: content,\n                finalHintVisible: true,\n            });\n        }\n\n        render() {\n            return (\n                <div style={{gridArea: \"points\", justifyContent: \"space-between\"}} className={this.state.display}>\n                    <p>{\"Набрано очков: \"}{this.state.points}</p>\n                    <button style={{width: \"6vh\", height: \"6vh\", maxWidth: \"50px\", maxHeight: \"50px\", borderRadius: \"50%\"}} ref={this.but}\n                    onClick={this.getInfo.bind(this)}>?</button>\n                    {this.state.finalHintVisible && (\n                        <div className=\"final-hint\">\n                            {this.state.finalContent}\n                        </div>\n                    )}\n                </div>\n            );\n        }\n    updateVisibility(className)\n    {\n        this.setState({display: className});\n    }\n    setHint(text, alarm = false, time = 0, closable = false)\n    {\n        if(alarm) this.setState({oldInside: this.state.inside});\n        this.setState({inside: {text: text, time: time}, alarm: alarm});\n    }\n    componentDidUpdate(props, state)\n    {\n        if(this.state.alarm)\n        {\n            this.setState({alarm: false});\n            this.but.current.click();\n            this.setState({inside: this.state.oldInside});\n        }\n    }\n    getInfo()\n    {\n        this.props.showPopup(this.state.inside.text, this.state.inside.time);\n    }\n    autoClick()\n    {\n        this.but.current.click();\n    }\n    updatePoints(pts)\n    {\n        this.setState({pointsBuff: this.state.points + pts});\n        let interval = setInterval(()=>{\n            if(this.state.points < this.state.pointsBuff)\n            {\n                this.setState({points: this.state.points + 1});\n            }\n            else\n            {\n                clearInterval(interval);\n            }\n        }, 50);\n    }\n}\nexport default UpPanel"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}