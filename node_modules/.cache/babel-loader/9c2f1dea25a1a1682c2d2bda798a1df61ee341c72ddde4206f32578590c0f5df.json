{"ast":null,"code":"var _jsxFileName = \"/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/UpPanel.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass UpPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: \"None\",\n      points: 0,\n      pointsBuff: 0,\n      pointsUpdate: this.updatePoints.bind(this),\n      update: this.updateVisibility.bind(this),\n      inside: {\n        text: \"\",\n        time: 0,\n        closable: true\n      },\n      // Удалите второй setHint, он здесь лишний\n      auto_click: this.autoClick.bind(this),\n      // Новые состояния для управления попапом, который не закрывается по клику\n      finalContent: null,\n      finalHintVisible: false\n    };\n    this.but = /*#__PURE__*/React.createRef();\n  }\n  setHint(text, alarm = false, time = Infinity, closable = true) {\n    if (alarm) {\n      this.setState({\n        oldInside: this.state.inside\n      });\n    }\n    this.setState({\n      inside: {\n        text: text,\n        time: time,\n        closable: closable\n      },\n      alarm: alarm\n    });\n    if (time !== Infinity) {\n      setTimeout(() => {\n        if (this.state.inside.closable) {\n          this.setState({\n            finalContent: null,\n            finalHintVisible: false\n          });\n        }\n      }, time);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        gridArea: \"points\",\n        justifyContent: \"space-between\"\n      },\n      className: this.state.display,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Набрано очков: \", this.state.points]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          width: \"6vh\",\n          height: \"6vh\",\n          maxWidth: \"50px\",\n          maxHeight: \"50px\",\n          borderRadius: \"50%\"\n        },\n        ref: this.but,\n        onClick: this.getInfo.bind(this),\n        children: \"?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this);\n  }\n  updateVisibility(className) {\n    this.setState({\n      display: className\n    });\n  }\n  setHint(text, alarm = false, time = 0, closable = false) {\n    if (alarm) this.setState({\n      oldInside: this.state.inside\n    });\n    this.setState({\n      inside: {\n        text: text,\n        time: time\n      },\n      alarm: alarm\n    });\n  }\n  componentDidUpdate(props, state) {\n    if (this.state.alarm) {\n      this.setState({\n        alarm: false\n      });\n      this.but.current.click();\n      this.setState({\n        inside: this.state.oldInside\n      });\n    }\n  }\n  getInfo() {\n    this.props.showPopup(this.state.inside.text, this.state.inside.time);\n  }\n  autoClick() {\n    this.but.current.click();\n  }\n  updatePoints(pts) {\n    this.setState({\n      pointsBuff: this.state.points + pts\n    });\n    let interval = setInterval(() => {\n      if (this.state.points < this.state.pointsBuff) {\n        this.setState({\n          points: this.state.points + 1\n        });\n      } else {\n        clearInterval(interval);\n      }\n    }, 50);\n  }\n}\nexport default UpPanel;","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","UpPanel","Component","constructor","props","state","display","points","pointsBuff","pointsUpdate","updatePoints","bind","update","updateVisibility","inside","text","time","closable","auto_click","autoClick","finalContent","finalHintVisible","but","createRef","setHint","alarm","Infinity","setState","oldInside","setTimeout","render","style","gridArea","justifyContent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","width","height","maxWidth","maxHeight","borderRadius","ref","onClick","getInfo","componentDidUpdate","current","click","showPopup","pts","interval","setInterval","clearInterval"],"sources":["/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/UpPanel.js"],"sourcesContent":["import React from \"react\";\n\nclass UpPanel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            display: \"None\",\n            points: 0,\n            pointsBuff: 0,\n            pointsUpdate: this.updatePoints.bind(this),\n            update: this.updateVisibility.bind(this),\n            inside: { text: \"\", time: 0, closable: true }, // Удалите второй setHint, он здесь лишний\n            auto_click: this.autoClick.bind(this),\n            // Новые состояния для управления попапом, который не закрывается по клику\n            finalContent: null,\n            finalHintVisible: false,\n        };\n        this.but = React.createRef();\n    }\n    setHint(text, alarm = false, time = Infinity, closable = true) {\n            if (alarm) {\n                this.setState({ oldInside: this.state.inside });\n            }\n            this.setState({ inside: { text: text, time: time, closable: closable }, alarm: alarm });\n\n            if (time !== Infinity) {\n                setTimeout(() => {\n                    if (this.state.inside.closable) {\n                        this.setState({ finalContent: null, finalHintVisible: false });\n                    }\n                }, time);\n            }\n        }\n    render()\n    {\n        return(\n            <div style={{gridArea: \"points\", justifyContent: \"space-between\"}}  className={this.state.display}>\n                <p>{\"Набрано очков: \"}{this.state.points}</p>\n                <button style={{width: \"6vh\", height: \"6vh\", maxWidth: \"50px\", maxHeight: \"50px\", borderRadius: \"50%\"}} ref={this.but}\n                onClick={this.getInfo.bind(this)}>?</button>\n            </div>)\n    }\n    updateVisibility(className)\n    {\n        this.setState({display: className});\n    }\n    setHint(text, alarm = false, time = 0, closable = false)\n    {\n        if(alarm) this.setState({oldInside: this.state.inside});\n        this.setState({inside: {text: text, time: time}, alarm: alarm});\n    }\n    componentDidUpdate(props, state)\n    {\n        if(this.state.alarm)\n        {\n            this.setState({alarm: false});\n            this.but.current.click();\n            this.setState({inside: this.state.oldInside});\n        }\n    }\n    getInfo()\n    {\n        this.props.showPopup(this.state.inside.text, this.state.inside.time);\n    }\n    autoClick()\n    {\n        this.but.current.click();\n    }\n    updatePoints(pts)\n    {\n        this.setState({pointsBuff: this.state.points + pts});\n        let interval = setInterval(()=>{\n            if(this.state.points < this.state.pointsBuff)\n            {\n                this.setState({points: this.state.points + 1});\n            }\n            else\n            {\n                clearInterval(interval);\n            }\n        }, 50);\n    }\n}\nexport default UpPanel"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}