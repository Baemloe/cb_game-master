{"ast":null,"code":"import React from\"react\";import PreviosType from\"./PreviosType\";import DragNDrop from\"./units/DragNDrop\";import Table from\"./units/Table\";import Scum from\"./units/Scum\";import Data from\"./data/scenes.json\";import funnyboy from'./images/funnyboy.svg';import badboy from'./images/badboy.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class Scene extends React.Component{constructor(props){super(props);this.state={number:0,show:\"\",next:this.nextShow.bind(this),startInfo:{control:this.props.control,up:this.props.up,next:this.nextShow.bind(this)}};}render(){return/*#__PURE__*/_jsx(\"div\",{style:{gridTemplateColumns:this.state.cols,gridTemplateRows:this.state.rows,gridArea:\"main-window\"},children:this.state.show});}componentDidMount(){this.types={\"previos\":(data,start)=>{return/*#__PURE__*/_jsx(PreviosType,{data:data,start:start});},\"dragNDrop\":(data,start)=>{return/*#__PURE__*/_jsx(DragNDrop,{data:data,start:start});},\"list\":(data,start)=>{return/*#__PURE__*/_jsx(Table,{data:data,start:start,showPopup:this.props.showPopup});},\"scum\":(data,start)=>{return/*#__PURE__*/_jsx(Scum,{data:data,start:start,showPopup:this.props.showPopup});}};this.showScene();}showScene(){this.setState({show:null},()=>{this.setState({show:this.types[Data[this.state.number].type](Data[this.state.number],this.state.startInfo)});});}nextShow(){if(this.state.number<Data.length-1){// Если нет, переход к следующей сцене\nthis.setState({number:this.state.number+1},()=>{this.showScene();});}else{// Если это последняя сцена\nconsole.log(\"Это была последняя сцена\");// Здесь нужно добавить проверку очков и показать соответствующий попап\nthis.checkPointsAndShowPopup();}}checkPointsAndShowPopup(){const points=this.props.up.current.state.points;// Получение текущего количества очков\nif(points>21){this.goodEnd();// Вызов метода для \"хорошего\" попапа\n}else{this.badEnd();// Вызов метода для \"плохого\" попапа\n}}goodEnd(){const successMessage=/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041F\\u043E\\u0437\\u0434\\u0440\\u0430\\u0432\\u043B\\u044F\\u0435\\u043C! \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u041E\\u0442\\u043B\\u0438\\u0447\\u043D\\u043E! \\u0421 \\u0442\\u0432\\u043E\\u0435\\u0439 \\u043F\\u043E\\u043C\\u043E\\u0449\\u044C\\u044E \\u0431\\u044E\\u0434\\u0436\\u0435\\u0442 \\u0441\\u0435\\u043C\\u044C\\u0438 \\u0413\\u043B\\u0435\\u0431\\u0430 \\u0441\\u0442\\u0430\\u043B \\u0441\\u0431\\u0430\\u043B\\u0430\\u043D\\u0441\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u044B\\u043C!\"]}),/*#__PURE__*/_jsx(\"img\",{src:funnyboy,alt:\"Congratulations\",style:{maxWidth:'40%',height:'40%'}})]});this.props.showPopup(successMessage,0,false);}badEnd(){const badMessage=/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0422\\u0432\\u043E\\u0438 \\u0441\\u0442\\u0430\\u0440\\u0430\\u043D\\u0438\\u044F \\u043D\\u0435 \\u043F\\u0440\\u043E\\u0448\\u043B\\u0438 \\u0434\\u0430\\u0440\\u043E\\u043C! \\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0430\\u0439 \\u0438\\u0437\\u0443\\u0447\\u0430\\u0442\\u044C \\u0444\\u0438\\u043D\\u0430\\u043D\\u0441\\u043E\\u0432\\u0443\\u044E \\u0433\\u0440\\u0430\\u043C\\u043E\\u0442\\u043D\\u043E\\u0441\\u0442\\u044C \\u0438 \\u0443 \\u0442\\u0435\\u0431\\u044F \\u0432\\u0441\\u0451 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u0441\\u044F!\"}),/*#__PURE__*/_jsx(\"img\",{src:badboy,alt:\"Mistakes\",style:{maxWidth:'30%',height:'30%'}})]});this.props.showPopup(badMessage,0,false);}}export default Scene;","map":{"version":3,"names":["React","PreviosType","DragNDrop","Table","Scum","Data","funnyboy","badboy","jsx","_jsx","jsxs","_jsxs","Scene","Component","constructor","props","state","number","show","next","nextShow","bind","startInfo","control","up","render","style","gridTemplateColumns","cols","gridTemplateRows","rows","gridArea","children","componentDidMount","types","previos","data","start","dragNDrop","list","showPopup","scum","showScene","setState","type","length","console","log","checkPointsAndShowPopup","points","current","goodEnd","badEnd","successMessage","textAlign","src","alt","maxWidth","height","badMessage"],"sources":["/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/Scene.js"],"sourcesContent":["import React from \"react\";\nimport PreviosType from \"./PreviosType\";\nimport DragNDrop from \"./units/DragNDrop\";\nimport Table from \"./units/Table\";\nimport Scum from \"./units/Scum\";\nimport Data from \"./data/scenes.json\";\nimport funnyboy from './images/funnyboy.svg';\nimport badboy from './images/badboy.svg';\n\nclass Scene extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            number: 0, \n            show: \"\",\n            next: this.nextShow.bind(this),\n            startInfo: {control: this.props.control, up: this.props.up, next: this.nextShow.bind(this)}\n        };\n    }\n    render()\n    {\n        return <div\n            style={{gridTemplateColumns: this.state.cols, gridTemplateRows: this.state.rows, gridArea: \"main-window\"}}>\n                {this.state.show}\n        </div>\n    }\n    componentDidMount()\n    {\n        this.types = {\n            \"previos\": (data, start)=>{return <PreviosType data={data} start={start}/>},\n            \"dragNDrop\": (data, start)=>{return <DragNDrop data={data} start={start}/>},\n            \"list\": (data, start)=>{return <Table data={data} start={start} showPopup={this.props.showPopup}/>},\n            \"scum\":(data, start)=>{return <Scum data={data} start={start} showPopup={this.props.showPopup}/>}\n        };\n        this.showScene();\n    }\n    showScene()\n    {\n        this.setState({show: null}, ()=>{\n            this.setState({show: this.types[Data[this.state.number].type](Data[this.state.number], this.state.startInfo)})\n        });\n    }\n    nextShow() {\n        if (this.state.number < Data.length - 1) {\n            // Если нет, переход к следующей сцене\n            this.setState({number: this.state.number + 1}, () => {this.showScene()});\n        } else {\n            // Если это последняя сцена\n            console.log(\"Это была последняя сцена\");\n            // Здесь нужно добавить проверку очков и показать соответствующий попап\n            this.checkPointsAndShowPopup();\n        }\n    }\n\n    checkPointsAndShowPopup() {\n        const points = this.props.up.current.state.points; // Получение текущего количества очков\n        if (points > 21) {\n            this.goodEnd(); // Вызов метода для \"хорошего\" попапа\n        } else {\n            this.badEnd(); // Вызов метода для \"плохого\" попапа\n        }\n    }\n    goodEnd() {\n            const successMessage = (\n                <div style={{ textAlign: 'center' }}>\n                    <p>Поздравляем! <br/>Отлично! С твоей помощью бюджет семьи Глеба стал сбалансированным!</p>\n                    <img src={funnyboy} alt=\"Congratulations\" style={{ maxWidth: '40%', height: '40%' }} />\n                </div>\n            );\n            this.props.showPopup(successMessage, 0, false);\n    }\n    badEnd() {\n            const badMessage = (\n                <div style={{ textAlign: 'center' }}>\n                    <p>Твои старания не прошли даром! Продолжай изучать финансовую грамотность и у тебя всё получится!</p>\n                    <img src={badboy} alt=\"Mistakes\" style={{ maxWidth: '30%', height: '30%' }} />\n                </div>\n            );\n            this.props.showPopup(badMessage, 0, false);\n    }\n\n}\nexport default Scene;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}