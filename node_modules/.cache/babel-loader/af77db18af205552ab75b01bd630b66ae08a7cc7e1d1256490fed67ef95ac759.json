{"ast":null,"code":"var _jsxFileName = \"/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/UpPanel.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass UpPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: \"None\",\n      points: 0,\n      pointsBuff: 0,\n      pointsUpdate: this.updatePoints.bind(this),\n      update: this.updateVisibility.bind(this),\n      inside: {\n        text: \"\",\n        time: 0\n      },\n      set: this.setHint.bind(this),\n      auto_click: this.autoClick.bind(this)\n    };\n    this.but = /*#__PURE__*/React.createRef();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        gridArea: \"points\",\n        justifyContent: \"space-between\"\n      },\n      className: this.state.display,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Набрано очков: \", this.state.points]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          width: \"6vh\",\n          height: \"6vh\",\n          maxWidth: \"50px\",\n          maxHeight: \"50px\",\n          borderRadius: \"50%\"\n        },\n        ref: this.but,\n        onClick: this.getInfo.bind(this),\n        children: \"?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this), this.state.isVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 42\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this);\n  }\n  setPermanentHint(content) {\n    // Установка контента попапа, который не закрывается автоматически и по клику\n    this.setState({\n      content: content,\n      isVisible: true // Делаем попап видимым\n      // Можно добавить другие параметры состояния, если нужно\n    });\n    // В этом методе нет логики автоматического закрытия или закрытия по клику\n  }\n  updateVisibility(className) {\n    this.setState({\n      display: className\n    });\n  }\n  setHint(text, alarm = false, time = 0, closable = false) {\n    if (alarm) this.setState({\n      oldInside: this.state.inside\n    });\n    this.setState({\n      inside: {\n        text: text,\n        time: time\n      },\n      alarm: alarm\n    });\n  }\n  componentDidUpdate(props, state) {\n    if (this.state.alarm) {\n      this.setState({\n        alarm: false\n      });\n      this.but.current.click();\n      this.setState({\n        inside: this.state.oldInside\n      });\n    }\n  }\n  getInfo() {\n    this.props.showPopup(this.state.inside.text, this.state.inside.time);\n  }\n  autoClick() {\n    this.but.current.click();\n  }\n  updatePoints(pts) {\n    this.setState({\n      pointsBuff: this.state.points + pts\n    });\n    let interval = setInterval(() => {\n      if (this.state.points < this.state.pointsBuff) {\n        this.setState({\n          points: this.state.points + 1\n        });\n      } else {\n        clearInterval(interval);\n      }\n    }, 50);\n  }\n}\nexport default UpPanel;","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","UpPanel","Component","constructor","props","state","display","points","pointsBuff","pointsUpdate","updatePoints","bind","update","updateVisibility","inside","text","time","set","setHint","auto_click","autoClick","but","createRef","render","style","gridArea","justifyContent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","width","height","maxWidth","maxHeight","borderRadius","ref","onClick","getInfo","isVisible","content","setPermanentHint","setState","alarm","closable","oldInside","componentDidUpdate","current","click","showPopup","pts","interval","setInterval","clearInterval"],"sources":["/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/units/UpPanel.js"],"sourcesContent":["import React from \"react\";\nclass UpPanel extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            display: \"None\",\n            points: 0,\n            pointsBuff: 0,            \n            pointsUpdate: this.updatePoints.bind(this),\n            update: this.updateVisibility.bind(this),\n            inside: {text: \"\", time: 0},\n            set: this.setHint.bind(this),\n            auto_click: this.autoClick.bind(this),\n        }\n        this.but = React.createRef();\n    }\n    render() {\n        return(\n            <div style={{gridArea: \"points\", justifyContent: \"space-between\"}} className={this.state.display}>\n                <p>{\"Набрано очков: \"}{this.state.points}</p>\n                <button style={{width: \"6vh\", height: \"6vh\", maxWidth: \"50px\", maxHeight: \"50px\", borderRadius: \"50%\"}} ref={this.but}\n                onClick={this.getInfo.bind(this)}>?</button>\n                {this.state.isVisible && <div>{this.state.content}</div>}\n            </div>\n        );\n    }\n\n    setPermanentHint(content) {\n        // Установка контента попапа, который не закрывается автоматически и по клику\n        this.setState({\n            content: content,\n            isVisible: true, // Делаем попап видимым\n            // Можно добавить другие параметры состояния, если нужно\n        });\n        // В этом методе нет логики автоматического закрытия или закрытия по клику\n    }\n\n    updateVisibility(className)\n    {\n        this.setState({display: className});\n    }\n    setHint(text, alarm = false, time = 0, closable = false)\n    {\n        if(alarm) this.setState({oldInside: this.state.inside});\n        this.setState({inside: {text: text, time: time}, alarm: alarm});\n    }\n    componentDidUpdate(props, state)\n    {\n        if(this.state.alarm)\n        {\n            this.setState({alarm: false});\n            this.but.current.click();\n            this.setState({inside: this.state.oldInside});\n        }\n    }\n    getInfo()\n    {\n        this.props.showPopup(this.state.inside.text, this.state.inside.time);\n    }\n    autoClick()\n    {\n        this.but.current.click();\n    }\n    updatePoints(pts)\n    {\n        this.setState({pointsBuff: this.state.points + pts});\n        let interval = setInterval(()=>{\n            if(this.state.points < this.state.pointsBuff)\n            {\n                this.setState({points: this.state.points + 1});\n            }\n            else\n            {\n                clearInterval(interval);\n            }\n        }, 50);\n    }\n}\nexport default UpPanel"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}