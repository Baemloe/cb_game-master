{"ast":null,"code":"import React from\"react\";import PreviosType from\"./PreviosType\";import DragNDrop from\"./units/DragNDrop\";import Table from\"./units/Table\";import Scum from\"./units/Scum\";import Data from\"./data/scenes.json\";import funnyboy from'./images/funnyboy.svg';import badboy from'./images/badboy.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class Scene extends React.Component{constructor(props){super(props);this.state={number:0,show:\"\",next:this.nextShow.bind(this),startInfo:{control:this.props.control,up:this.props.up,next:this.nextShow.bind(this)}};}render(){return/*#__PURE__*/_jsx(\"div\",{style:{gridTemplateColumns:this.state.cols,gridTemplateRows:this.state.rows,gridArea:\"main-window\"},children:this.state.show});}componentDidMount(){this.types={\"previos\":(data,start)=>{return/*#__PURE__*/_jsx(PreviosType,{data:data,start:start});},\"dragNDrop\":(data,start)=>{return/*#__PURE__*/_jsx(DragNDrop,{data:data,start:start});},\"list\":(data,start)=>{return/*#__PURE__*/_jsx(Table,{data:data,start:start,showPopup:this.props.showPopup});},\"scum\":(data,start)=>{return/*#__PURE__*/_jsx(Scum,{data:data,start:start,showPopup:this.props.showPopup});}};this.showScene();}showScene(){this.setState({show:null},()=>{this.setState({show:this.types[Data[this.state.number].type](Data[this.state.number],this.state.startInfo)});});}nextShow(){if(this.state.number<Data.length-1){// Если нет, переход к следующей сцене\nthis.setState({number:this.state.number+1},()=>{this.showScene();});}else{// Если это последняя сцена\nconsole.log(\"Это была последняя сцена\");// Здесь нужно добавить проверку очков и показать соответствующий попап\nthis.checkPointsAndShowPopup();}}checkPointsAndShowPopup(){const points=this.props.up.current.state.points;// Получение текущего количества очков\nconst greatScore=30;// Условие для `greatEnd`\nconst goodScore=29;// Условие для `goodEnd`\nif(points>=greatScore){this.greatEnd();// Вызов метода для \"отличного\" конца\n}else if(points<=goodScore&&points>0){this.goodEnd();// Вызов метода для \"хорошего\" конца\n}else{this.badEnd();// Вызов метода для \"плохого\" конца\n}}greatEnd(){const points=this.props.up.current.state.points;// Получение текущего количества очков\nconst greatMessage=/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041E\\u0442\\u043B\\u0438\\u0447\\u043D\\u043E! \\u0422\\u044B \\u043D\\u0430\\u0431\\u0440\\u0430\\u043B \\u043C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0431\\u0430\\u043B\\u043B\\u043E\\u0432: \",points,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0421 \\u0442\\u0432\\u043E\\u0435\\u0439 \\u043F\\u043E\\u043C\\u043E\\u0449\\u044C\\u044E \\u0431\\u044E\\u0434\\u0436\\u0435\\u0442 \\u0441\\u0435\\u043C\\u044C\\u0438 \\u0413\\u043B\\u0435\\u0431\\u0430 \\u0441\\u0442\\u0430\\u043B \\u0441\\u0431\\u0430\\u043B\\u0430\\u043D\\u0441\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u044B\\u043C!\"}),/*#__PURE__*/_jsx(\"img\",{src:funnyboy,alt:\"Great!\",style:{maxWidth:'40%',height:'40%'}})]});this.props.showPopup(greatMessage,0,false);}goodEnd(){const points=this.props.up.current.state.points;// Получение текущего количества очков\nconst successMessage=/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0422\\u0432\\u043E\\u0438 \\u0441\\u0442\\u0430\\u0440\\u0430\\u043D\\u0438\\u044F \\u043D\\u0435 \\u043F\\u0440\\u043E\\u0448\\u043B\\u0438 \\u0434\\u0430\\u0440\\u043E\\u043C! \\u0422\\u044B \\u0437\\u0430\\u0440\\u0430\\u0431\\u043E\\u0442\\u0430\\u043B \",points,\" \\u0431\\u0430\\u043B\\u043B\\u043E\\u0432.\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0430\\u0439 \\u0438\\u0437\\u0443\\u0447\\u0430\\u0442\\u044C \\u0444\\u0438\\u043D\\u0430\\u043D\\u0441\\u043E\\u0432\\u0443\\u044E \\u0433\\u0440\\u0430\\u043C\\u043E\\u0442\\u043D\\u043E\\u0441\\u0442\\u044C \\u0438 \\u0443 \\u0442\\u0435\\u0431\\u044F \\u0432\\u0441\\u0451 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u0441\\u044F!\"}),/*#__PURE__*/_jsx(\"img\",{src:funnyboy,alt:\"Congratulations\",style:{maxWidth:'40%',height:'40%'}})]});this.props.showPopup(successMessage,0,false);}badEnd(){const points=this.props.up.current.state.points;// Получение текущего количества очков\nconst badMessage=/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439 \\u043F\\u0440\\u043E\\u0439\\u0442\\u0438 \\u0438\\u0433\\u0440\\u0443 \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437. \\u0423 \\u0442\\u0435\\u0431\\u044F \\u0432\\u0441\\u0451 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u0441\\u044F!\"}),/*#__PURE__*/_jsx(\"img\",{src:badboy,alt:\"Mistakes\",style:{maxWidth:'40%',height:'40%'}})]});this.props.showPopup(badMessage,0,false);}}export default Scene;","map":{"version":3,"names":["React","PreviosType","DragNDrop","Table","Scum","Data","funnyboy","badboy","jsx","_jsx","jsxs","_jsxs","Scene","Component","constructor","props","state","number","show","next","nextShow","bind","startInfo","control","up","render","style","gridTemplateColumns","cols","gridTemplateRows","rows","gridArea","children","componentDidMount","types","previos","data","start","dragNDrop","list","showPopup","scum","showScene","setState","type","length","console","log","checkPointsAndShowPopup","points","current","greatScore","goodScore","greatEnd","goodEnd","badEnd","greatMessage","textAlign","src","alt","maxWidth","height","successMessage","badMessage"],"sources":["/Users/maksimgazdanov/Desktop/Chikanov/cb_game-master/cb_game-master/src/Scene.js"],"sourcesContent":["import React from \"react\";\nimport PreviosType from \"./PreviosType\";\nimport DragNDrop from \"./units/DragNDrop\";\nimport Table from \"./units/Table\";\nimport Scum from \"./units/Scum\";\nimport Data from \"./data/scenes.json\";\nimport funnyboy from './images/funnyboy.svg';\nimport badboy from './images/badboy.svg';\n\nclass Scene extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            number: 0, \n            show: \"\",\n            next: this.nextShow.bind(this),\n            startInfo: {control: this.props.control, up: this.props.up, next: this.nextShow.bind(this)}\n        };\n    }\n    render()\n    {\n        return <div\n            style={{gridTemplateColumns: this.state.cols, gridTemplateRows: this.state.rows, gridArea: \"main-window\"}}>\n                {this.state.show}\n        </div>\n    }\n    componentDidMount()\n    {\n        this.types = {\n            \"previos\": (data, start)=>{return <PreviosType data={data} start={start}/>},\n            \"dragNDrop\": (data, start)=>{return <DragNDrop data={data} start={start}/>},\n            \"list\": (data, start)=>{return <Table data={data} start={start} showPopup={this.props.showPopup}/>},\n            \"scum\":(data, start)=>{return <Scum data={data} start={start} showPopup={this.props.showPopup}/>}\n        };\n        this.showScene();\n    }\n    showScene()\n    {\n        this.setState({show: null}, ()=>{\n            this.setState({show: this.types[Data[this.state.number].type](Data[this.state.number], this.state.startInfo)})\n        });\n    }\n    nextShow() {\n        if (this.state.number < Data.length - 1) {\n            // Если нет, переход к следующей сцене\n            this.setState({number: this.state.number + 1}, () => {this.showScene()});\n        } else {\n            // Если это последняя сцена\n            console.log(\"Это была последняя сцена\");\n            // Здесь нужно добавить проверку очков и показать соответствующий попап\n            this.checkPointsAndShowPopup();\n        }\n    }\n\n    checkPointsAndShowPopup() {\n        const points = this.props.up.current.state.points; // Получение текущего количества очков\n        const greatScore = 30; // Условие для `greatEnd`\n        const goodScore = 29; // Условие для `goodEnd`\n\n        if (points >= greatScore) {\n            this.greatEnd(); // Вызов метода для \"отличного\" конца\n        } else if (points <= goodScore && points > 0) {\n            this.goodEnd(); // Вызов метода для \"хорошего\" конца\n        } else {\n            this.badEnd(); // Вызов метода для \"плохого\" конца\n        }\n    }\n    greatEnd() {\n    const points = this.props.up.current.state.points; // Получение текущего количества очков\n        const greatMessage = (\n            <div style={{ textAlign: 'center' }}>\n                <p>Отлично! Ты набрал максимальное количество баллов: {points}!</p><p>С твоей помощью бюджет семьи Глеба стал сбалансированным!</p>\n                <img src={funnyboy} alt=\"Great!\" style={{ maxWidth: '40%', height: '40%' }} />\n            </div>\n        );\n        this.props.showPopup(greatMessage, 0, false);\n    }\n    goodEnd() {\n    const points = this.props.up.current.state.points; // Получение текущего количества очков\n            const successMessage = (\n                <div style={{ textAlign: 'center' }}>\n                    <p>Твои старания не прошли даром! Ты заработал {points} баллов.</p><p>Продолжай изучать финансовую грамотность и у тебя всё получится!</p>\n                    <img src={funnyboy} alt=\"Congratulations\" style={{ maxWidth: '40%', height: '40%' }} />\n                </div>\n            );\n            this.props.showPopup(successMessage, 0, false);\n    }\n    badEnd() {\n    const points = this.props.up.current.state.points; // Получение текущего количества очков\n            const badMessage = (\n                <div style={{ textAlign: 'center' }}>\n                    <p>Попробуй пройти игру ещё раз. У тебя всё получится!</p>\n                    <img src={badboy} alt=\"Mistakes\" style={{ maxWidth: '40%', height: '40%' }} />\n                </div>\n            );\n            this.props.showPopup(badMessage, 0, false);\n    }\n\n}\nexport default Scene;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}